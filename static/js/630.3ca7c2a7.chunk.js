"use strict";(self.webpackChunkkinosearch_v2=self.webpackChunkkinosearch_v2||[]).push([[630],{2630:function(e,r,s){s.r(r);var t=s(1413),o=s(4165),a=s(7762),n=s(5861),i=s(9439),c=s(7313),l=s(4390),d=s(3964),p=s(720),m=s(3068),u=s(9748),h=s(5627),f=s(7890),x=s(9466),w=s(1881),b=s.n(w),j=s(2335),v=s(6417);r.default=function(){var e=(0,l.pm)(),r=c.useState(!1),s=(0,i.Z)(r,2),w=s[0],g=s[1],y=c.useState(window.innerWidth),_=(0,i.Z)(y,2),I=_[0],C=_[1];c.useEffect((function(){var e=function(){C(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var Z=I<=768,k=(0,h.cI)(),E=k.register,q=k.handleSubmit,F=k.formState.errors,S=k.setError,z=(0,f.s0)(),D=q(function(){var r=(0,n.Z)((0,o.Z)().mark((function r(s){var t,n,i,c,l,d,p,m,u,h;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(g(!0),r.prev=1,t=!1,/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(s.email)||(S("email",{type:"custom",message:"Email \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"}),t=!0),s.password!==s.password_confirmation&&(S("password_confirmation",{type:"custom",message:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"}),t=!0),!t){r.next=7;break}return r.abrupt("return");case 7:return r.next=9,b().post("".concat(j.Z.ks_api,"/auth/register"),s);case 9:if(n=r.sent,(i=n.data).errors){c=(0,a.Z)(i.errors);try{for(c.s();!(l=c.n()).done;)"Email \u0437\u0430\u043d\u044f\u0442"===(d=l.value).message&&S("email",{type:"custom",message:d.message})}catch(h){c.e(h)}finally{c.f()}}else e({title:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d!",status:"success",duration:3e3,isClosable:!0,variant:Z?"top-accent":"left-accent",position:Z?"top":"bottom-left"}),z("/login");r.next=17;break;case 14:if(r.prev=14,r.t0=r.catch(1),r.t0.response.data){p=r.t0.response.data;try{m=(0,a.Z)(p.errors);try{for(m.s();!(u=m.n()).done;)"Email \u0437\u0430\u043d\u044f\u0442"===(h=u.value).message&&S("email",{type:"custom",message:h.message})}catch(h){m.e(h)}finally{m.f()}}catch(o){e({title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",description:"".concat(r.t0),status:"error",duration:3e3,isClosable:!0,variant:Z?"top-accent":"left-accent",position:Z?"top":"bottom-left"})}}else e({title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",description:"".concat(r.t0),status:"error",duration:3e3,isClosable:!0,variant:Z?"top-accent":"left-accent",position:Z?"top":"bottom-left"});case 17:return r.prev=17,g(!1),r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[1,14,17,20]])})));return function(e){return r.apply(this,arguments)}}());return(0,v.jsx)(d.xu,{w:"100%",children:(0,v.jsx)(d.M5,{children:(0,v.jsx)(d.W2,{maxW:["full","sm"],children:(0,v.jsx)("form",{onSubmit:D,children:(0,v.jsxs)(d.Kq,{direction:"column",spacing:5,children:[(0,v.jsx)(d.M5,{children:(0,v.jsx)(d.X6,{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),(0,v.jsxs)(p.NI,{isInvalid:!!F.email,children:[(0,v.jsx)(m.II,(0,t.Z)({placeholder:"Email",borderColor:"#929292",isDisabled:w,focusBorderColor:"brand.500",_placeholder:{color:"white"}},E("email",{required:!0}))),F.email&&(0,v.jsx)(p.J1,{children:"required"===F.email.type&&(0,v.jsx)(v.Fragment,{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 Email"})||(0,v.jsx)(v.Fragment,{children:F.email.message})})]}),(0,v.jsxs)(p.NI,{isInvalid:!!F.password,children:[(0,v.jsx)(m.II,(0,t.Z)({placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",borderColor:"#929292",focusBorderColor:"brand.500",type:"password",isDisabled:w,_placeholder:{color:"white"}},E("password",{required:!0}))),F.password&&(0,v.jsx)(p.J1,{children:"required"===F.password.type&&(0,v.jsx)(v.Fragment,{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})||(0,v.jsx)(v.Fragment,{children:F.password.message})})]}),(0,v.jsxs)(p.NI,{isInvalid:!!F.password_confirmation,children:[(0,v.jsx)(m.II,(0,t.Z)({placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",borderColor:"#929292",focusBorderColor:"brand.500",type:"password",isDisabled:w,_placeholder:{color:"white"}},E("password_confirmation",{required:!0}))),F.password_confirmation&&(0,v.jsx)(p.J1,{children:"required"===F.password_confirmation.type&&(0,v.jsx)(v.Fragment,{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u0435\u0449\u0435 \u0440\u0430\u0437"})||(0,v.jsx)(v.Fragment,{children:F.password_confirmation.message})})]}),(0,v.jsx)(u.zx,{w:"100%",isLoading:w,type:"submit",colorScheme:"brand",size:"md",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),(0,v.jsx)(d.M5,{w:"100%",children:(0,v.jsxs)(d.xv,{children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"," ",(0,v.jsx)(d.rU,{color:"brand.500",_hover:{color:"brand.600",textDecoration:"none"},as:x.rU,to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})})})})})}}}]);