"use strict";(self.webpackChunkkinosearch_v2=self.webpackChunkkinosearch_v2||[]).push([[889],{5889:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(4165),a=n(5861),c=n(9439),s=n(2791),i=n(6871),o=n(9478),u=n(4569),h=n.n(u),d=n(4370),l=n(9712),p=n(1605),f=n(9555),v=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h().post("".concat(o.Z.ks_api,"/history/watch/").concat(t),null,{headers:{Authorization:"Bearer ".concat((0,f.YT)())}});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),x=n(184);var k=function(){var e=(0,i.UO)().filmId,t=s.useState(!1),n=(0,c.Z)(t,2),u=n[0],f=n[1],k=s.useState(""),j=(0,c.Z)(k,2),Z=j[0],m=j[1],w=s.useState(!0),b=(0,c.Z)(w,2),y=b[0],S=b[1];return s.useEffect((function(){var t=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var n,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!1),S(!0),t.prev=2,t.next=5,h().get("".concat(o.Z.api_url,"/films/").concat(e),{headers:{"X-API-KEY":o.Z.api_token}});case 5:200===(n=t.sent).status?(m(n.data.nameRu||n.data.nameEn),f(!1),v(e),(a=document.createElement("script")).src="/kinosearch/watch.js",document.body.appendChild(a),document.body.removeChild(a)):f(!0),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),f(!0);case 12:return t.prev=12,S(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),(0,x.jsx)("div",{children:y&&(0,x.jsxs)("div",{children:[(0,x.jsx)(d.D,{title:"KinoSearch"}),(0,x.jsx)(p.Z,{})]})||(0,x.jsx)("div",{children:u&&(0,x.jsxs)(l.M5,{h:"80vh",children:[(0,x.jsx)(d.D,{title:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u2013 KinoSearch"}),(0,x.jsx)(l.X6,{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]})||(0,x.jsxs)("div",{children:[(0,x.jsx)(d.D,{title:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0444\u0438\u043b\u044c\u043c\u0430 \u2013 KinoSearch"}),(0,x.jsx)(l.M5,{paddingBottom:10,children:(0,x.jsx)(l.X6,{size:"xl",fontWeight:"800",children:Z})}),(0,x.jsx)("div",{id:"yohoho","data-kinopoisk":e})]})})})}}}]);
//# sourceMappingURL=889.98daad22.chunk.js.map