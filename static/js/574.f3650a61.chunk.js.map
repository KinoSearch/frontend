{"version":3,"file":"static/js/574.f3650a61.chunk.js","mappings":"iHAAA,KACCA,UAAW,uCACXC,QAAS,+CACTC,WAAY,+CACZC,yBAA0B,+C,wJCqE3B,UAjEA,WACC,IAAMC,GAAWC,EAAAA,EAAAA,MAAXD,OACN,EAAgCE,EAAAA,UAAwB,GAAxD,eAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA0BF,EAAAA,SAAuB,IAAjD,eAAOG,EAAP,KAAcC,EAAd,KACA,EAAkCJ,EAAAA,UAAwB,GAA1D,eAAOK,EAAP,KAAkBC,EAAlB,KA8BA,OA7BAN,EAAAA,WAAgB,WACf,IAAMO,EAAK,yCAAG,kGACbL,GAAY,GACZI,GAAa,GAFA,kBAIME,IAAAA,IAAA,UAAaC,EAAAA,EAAAA,QAAb,kBAAqCX,GAAU,CAChEY,QAAS,CACR,YAAaD,EAAAA,EAAAA,aANH,OAUO,OANbE,EAJM,QAUJC,QACPR,EAASO,EAAIE,KAAKC,QAAUH,EAAIE,KAAKE,QACrCb,GAAY,IACNc,EAASC,SAASC,cAAc,WAC/BC,IAAM,uBACbF,SAASG,KAAKC,YAAYL,GAC1BC,SAASG,KAAKE,YAAYN,IAE1Bd,GAAY,GAlBD,gDAqBZA,GAAY,GArBA,yBAuBZI,GAAa,GAvBD,4EAAH,qDA0BXC,GACA,GAAE,CAACT,KAEH,yBACGO,IACD,4BACC,SAAC,IAAD,CAAOF,MAAM,gBACb,SAAC,IAAD,SAGD,yBACGF,IACD,UAAC,KAAD,CAAQsB,EAAE,OAAV,WACC,SAAC,IAAD,CAAOpB,MAAM,gIACb,SAAC,KAAD,4HAGD,4BACC,SAAC,IAAD,CAAOA,MAAM,6GACb,SAAC,KAAD,CAAQqB,cAAe,GAAvB,UACC,SAAC,KAAD,CAASC,KAAK,KAAKC,WAAW,MAA9B,SACEvB,OAGH,gBAAKwB,GAAG,SAAS,iBAAgB7B,UAOvC,C","sources":["config.ts","pages/Watch.tsx"],"sourcesContent":["export default {\n\tapi_token: \"3c7ce227-9391-4706-8da8-5adeee8e739c\",\n\tapi_url: \"https://kinopoiskapiunofficial.tech/api/v2.2\",\n\tsearch_url: \"https://kinopoiskapiunofficial.tech/api/v2.1\",\n\tsequels_and_prequels_url: \"https://kinopoiskapiunofficial.tech/api/v2.1\",\n};\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport config from \"../config\";\nimport axios from \"axios\";\nimport { Title } from \"react-head-meta\";\nimport { Center, Box, Heading } from \"@chakra-ui/react\";\nimport Loader from \"../components/Loader\";\n\nfunction Watch() {\n\tlet { filmId } = useParams();\n\tconst [notFound, setNotFound] = React.useState<boolean>(false);\n\tconst [title, setTitle] = React.useState<string>(\"\");\n\tconst [isLoading, setIsLoading] = React.useState<boolean>(true);\n\tReact.useEffect(() => {\n\t\tconst check = async () => {\n\t\t\tsetNotFound(false);\n\t\t\tsetIsLoading(true);\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(`${config.api_url}/films/${filmId}`, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"X-API-KEY\": config.api_token,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\tsetTitle(res.data.nameRu || res.data.nameEn);\n\t\t\t\t\tsetNotFound(false);\n\t\t\t\t\tconst script = document.createElement(\"script\");\n\t\t\t\t\tscript.src = \"/kinosearch/watch.js\";\n\t\t\t\t\tdocument.body.appendChild(script);\n\t\t\t\t\tdocument.body.removeChild(script);\n\t\t\t\t} else {\n\t\t\t\t\tsetNotFound(true);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tsetNotFound(true);\n\t\t\t} finally {\n\t\t\t\tsetIsLoading(false);\n\t\t\t}\n\t\t};\n\t\tcheck();\n\t}, [filmId]);\n\treturn (\n\t\t<div>\n\t\t\t{(isLoading && (\n\t\t\t\t<div>\n\t\t\t\t\t<Title title=\"KinoSearch\" />\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t)) || (\n\t\t\t\t<div>\n\t\t\t\t\t{(notFound && (\n\t\t\t\t\t\t<Center h=\"80vh\">\n\t\t\t\t\t\t\t<Title title=\"Страница не найдена – KinoSearch\" />\n\t\t\t\t\t\t\t<Heading>Страница не найдена</Heading>\n\t\t\t\t\t\t</Center>\n\t\t\t\t\t)) || (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Title title=\"Просмотр фильма – KinoSearch\" />\n\t\t\t\t\t\t\t<Center paddingBottom={10}>\n\t\t\t\t\t\t\t\t<Heading size=\"xl\" fontWeight=\"800\">\n\t\t\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t</Center>\n\t\t\t\t\t\t\t<div id=\"yohoho\" data-kinopoisk={filmId} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default Watch;\n"],"names":["api_token","api_url","search_url","sequels_and_prequels_url","filmId","useParams","React","notFound","setNotFound","title","setTitle","isLoading","setIsLoading","check","axios","config","headers","res","status","data","nameRu","nameEn","script","document","createElement","src","body","appendChild","removeChild","h","paddingBottom","size","fontWeight","id"],"sourceRoot":""}