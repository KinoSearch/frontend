{"version":3,"file":"static/js/67.03cad8c0.chunk.js","mappings":"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","sources":["pages/Register.tsx"],"sourcesContent":["import React from \"react\";\nimport {\n\tBox,\n\tContainer,\n\tCenter,\n\tFormControl,\n\tFormErrorMessage,\n\tButton,\n\tInput,\n\tStack,\n\tHeading,\n\tuseToast,\n\tText,\n\tLink,\n} from \"@chakra-ui/react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate, Link as RLink } from \"react-router-dom\";\nimport axios from \"axios\";\nimport config from \"../config\";\n\nfunction Register() {\n\tconst toast = useToast();\n\tconst [isLoading, setIsLoading] = React.useState<boolean>(false);\n\ttype FormData = {\n\t\temail: string;\n\t\tpassword: string;\n\t\tpassword_confirmation: string;\n\t};\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tformState: { errors },\n\t\tsetError,\n\t} = useForm<FormData>();\n\tconst navigate = useNavigate();\n\tconst onSubmit = handleSubmit(async (data) => {\n\t\tsetIsLoading(true);\n\t\ttry {\n\t\t\tlet error: boolean = false;\n\t\t\tif (\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\t!/^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i.test(\n\t\t\t\t\tdata.email\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tsetError(\"email\", {\n\t\t\t\t\ttype: \"custom\",\n\t\t\t\t\tmessage: \"Email введен некорректно\",\n\t\t\t\t});\n\n\t\t\t\terror = true;\n\t\t\t}\n\t\t\tif (data.password !== data.password_confirmation) {\n\t\t\t\tsetError(\"password_confirmation\", {\n\t\t\t\t\ttype: \"custom\",\n\t\t\t\t\tmessage: \"Пароли не совпадают\",\n\t\t\t\t});\n\n\t\t\t\terror = true;\n\t\t\t}\n\n\t\t\tif (error) return;\n\n\t\t\tconst { data: res } = await axios.post(\n\t\t\t\t`${config.ks_api}/auth/register`,\n\t\t\t\tdata\n\t\t\t);\n\n\t\t\tif (!res.errors) {\n\t\t\t\ttoast({\n\t\t\t\t\ttitle: \"Аккаунт успешно создан!\",\n\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\tduration: 3000,\n\t\t\t\t\tisClosable: true,\n\t\t\t\t\tvariant: \"left-accent\",\n\t\t\t\t\tposition: \"bottom-left\",\n\t\t\t\t});\n\t\t\t\tnavigate(\"/login\");\n\t\t\t} else {\n\t\t\t\tfor (const e of res.errors) {\n\t\t\t\t\tif (e.message === \"Email занят\") {\n\t\t\t\t\t\tsetError(\"email\", {\n\t\t\t\t\t\t\ttype: \"custom\",\n\t\t\t\t\t\t\tmessage: e.message,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e: any) {\n\t\t\tif (e.response.data) {\n\t\t\t\tconst res = e.response.data;\n\t\t\t\ttry {\n\t\t\t\t\tfor (const err of res.errors) {\n\t\t\t\t\t\tif (err.message === \"Email занят\") {\n\t\t\t\t\t\t\tsetError(\"email\", {\n\t\t\t\t\t\t\t\ttype: \"custom\",\n\t\t\t\t\t\t\t\tmessage: err.message,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (errr) {\n\t\t\t\t\ttoast({\n\t\t\t\t\t\ttitle: \"Произошла ошибка\",\n\t\t\t\t\t\tdescription: `${e}`,\n\t\t\t\t\t\tstatus: \"error\",\n\t\t\t\t\t\tduration: 3000,\n\t\t\t\t\t\tisClosable: true,\n\t\t\t\t\t\tvariant: \"left-accent\",\n\t\t\t\t\t\tposition: \"bottom-left\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttoast({\n\t\t\t\t\ttitle: \"Произошла ошибка\",\n\t\t\t\t\tdescription: `${e}`,\n\t\t\t\t\tstatus: \"error\",\n\t\t\t\t\tduration: 3000,\n\t\t\t\t\tisClosable: true,\n\t\t\t\t\tvariant: \"left-accent\",\n\t\t\t\t\tposition: \"bottom-left\",\n\t\t\t\t});\n\t\t\t}\n\t\t} finally {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t});\n\treturn (\n\t\t<Box w=\"100%\">\n\t\t\t<Center>\n\t\t\t\t<Container maxW={[\"full\", \"sm\"]}>\n\t\t\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t\t\t<Stack direction=\"column\" spacing={5}>\n\t\t\t\t\t\t\t<Center>\n\t\t\t\t\t\t\t\t<Heading>Регистрация</Heading>\n\t\t\t\t\t\t\t</Center>\n\t\t\t\t\t\t\t<FormControl isInvalid={errors.email ? true : false}>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\t\t\tborderColor=\"#929292\"\n\t\t\t\t\t\t\t\t\tfocusBorderColor=\"brand.500\"\n\t\t\t\t\t\t\t\t\t_placeholder={{ color: \"white\" }}\n\t\t\t\t\t\t\t\t\t{...register(\"email\", { required: true })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{errors.email && (\n\t\t\t\t\t\t\t\t\t<FormErrorMessage>\n\t\t\t\t\t\t\t\t\t\t{(errors.email.type === \"required\" && (\n\t\t\t\t\t\t\t\t\t\t\t<>Укажите Email</>\n\t\t\t\t\t\t\t\t\t\t)) || <>{errors.email.message}</>}\n\t\t\t\t\t\t\t\t\t</FormErrorMessage>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<FormControl isInvalid={errors.password ? true : false}>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tplaceholder=\"Пароль\"\n\t\t\t\t\t\t\t\t\tborderColor=\"#929292\"\n\t\t\t\t\t\t\t\t\tfocusBorderColor=\"brand.500\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t_placeholder={{ color: \"white\" }}\n\t\t\t\t\t\t\t\t\t{...register(\"password\", { required: true })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{errors.password && (\n\t\t\t\t\t\t\t\t\t<FormErrorMessage>\n\t\t\t\t\t\t\t\t\t\t{(errors.password.type === \"required\" && (\n\t\t\t\t\t\t\t\t\t\t\t<>Укажите пароль</>\n\t\t\t\t\t\t\t\t\t\t)) || <>{errors.password.message}</>}\n\t\t\t\t\t\t\t\t\t</FormErrorMessage>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tisInvalid={errors.password_confirmation ? true : false}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tplaceholder=\"Повторите пароль\"\n\t\t\t\t\t\t\t\t\tborderColor=\"#929292\"\n\t\t\t\t\t\t\t\t\tfocusBorderColor=\"brand.500\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t_placeholder={{ color: \"white\" }}\n\t\t\t\t\t\t\t\t\t{...register(\"password_confirmation\", { required: true })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{errors.password_confirmation && (\n\t\t\t\t\t\t\t\t\t<FormErrorMessage>\n\t\t\t\t\t\t\t\t\t\t{(errors.password_confirmation.type === \"required\" && (\n\t\t\t\t\t\t\t\t\t\t\t<>Укажите пароль еще раз</>\n\t\t\t\t\t\t\t\t\t\t)) || <>{errors.password_confirmation.message}</>}\n\t\t\t\t\t\t\t\t\t</FormErrorMessage>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tw=\"100%\"\n\t\t\t\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tcolorScheme=\"brand\"\n\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tЗарегистрироваться\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Center w=\"100%\">\n\t\t\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\t\tУже есть аккаунт?{\" \"}\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tcolor=\"brand.500\"\n\t\t\t\t\t\t\t\t\t\t_hover={{ color: \"brand.600\", textDecoration: \"none\" }}\n\t\t\t\t\t\t\t\t\t\tas={RLink}\n\t\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tВойти\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</Center>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</form>\n\t\t\t\t</Container>\n\t\t\t</Center>\n\t\t</Box>\n\t);\n}\n\nexport default Register;\n"],"names":["toast","useToast","React","isLoading","setIsLoading","useForm","register","handleSubmit","errors","formState","setError","navigate","useNavigate","onSubmit","data","error","test","email","type","message","password","password_confirmation","axios","config","res","e","title","status","duration","isClosable","variant","position","response","err","errr","description","w","maxW","direction","spacing","isInvalid","placeholder","borderColor","focusBorderColor","_placeholder","color","required","colorScheme","size","_hover","textDecoration","as","RLink","to"],"sourceRoot":""}