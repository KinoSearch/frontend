"use strict";(self.webpackChunkkinosearch_v2=self.webpackChunkkinosearch_v2||[]).push([[874],{730:function(e,n,a){a.d(n,{Z:function(){return s}});a(2791);var t=a(9712),r=a(3504),i=a(7087),c=(a(9713),a(184));var s=function(e){var n=e.film,a=e.isSearch;return(0,c.jsx)(t.xu,{minW:a?"full":"140px",w:a?"full":"140px",maxW:a?"full":"140px",children:(0,c.jsx)(t.xu,{as:r.rU,to:"/film/".concat(n.kinopoiskId||n.filmId),children:(0,c.jsxs)(t.Kq,{direction:"column",spacing:"10px",children:[(0,c.jsx)(i.LazyLoadImage,{src:n.posterUrl,width:a?"auto":"140px",height:a?"auto":"210px",className:"poster_image",effect:"blur"}),(0,c.jsx)(t.X6,{size:"sm",maxW:a?"full":"140px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:a?"normal":"nowrap",children:n.nameRu||n.nameEn})]})})})}},9478:function(e,n){n.Z={api_token:"3c7ce227-9391-4706-8da8-5adeee8e739c",api_url:"https://kinopoiskapiunofficial.tech/api/v2.2",search_url:"https://kinopoiskapiunofficial.tech/api/v2.1",sequels_and_prequels_url:"https://kinopoiskapiunofficial.tech/api/v2.1"}},5842:function(e,n,a){a.r(n),a.d(n,{default:function(){return U}});var t=a(4165),r=a(5861),i=a(9439),c=a(2791),s=a(9712),l=a(1413),o=a(4925),u=a(3544),d=a(7697),p=a(1197),m=["htmlWidth","htmlHeight","alt"],f=["fallbackSrc","fallback","src","srcSet","align","fit","loading","ignoreFallback","crossOrigin","fallbackStrategy","referrerPolicy"];var h=(0,u.Gp)((function(e,n){var a=e.htmlWidth,t=e.htmlHeight,r=e.alt,i=(0,o.Z)(e,m);return c.createElement("img",(0,l.Z)({width:a,height:t,ref:n,alt:r},i))}));d.Ts&&(h.displayName="NativeImage");var g=(0,u.Gp)((function(e,n){var a=e.fallbackSrc,t=e.fallback,r=e.src,s=e.srcSet,m=e.align,g=e.fit,x=e.loading,v=e.ignoreFallback,Z=e.crossOrigin,b=e.fallbackStrategy,k=void 0===b?"beforeLoadOrError":b,j=e.referrerPolicy,S=(0,o.Z)(e,f),_=null!=x||v||!(void 0!==a||void 0!==t),E=function(e){var n=e.loading,a=e.src,t=e.srcSet,r=e.onLoad,s=e.onError,l=e.crossOrigin,o=e.sizes,u=e.ignoreFallback,d=(0,c.useState)("pending"),m=(0,i.Z)(d,2),f=m[0],h=m[1];(0,c.useEffect)((function(){h(a?"loading":"pending")}),[a]);var g=(0,c.useRef)(),x=(0,c.useCallback)((function(){if(a){v();var e=new Image;e.src=a,l&&(e.crossOrigin=l),t&&(e.srcset=t),o&&(e.sizes=o),n&&(e.loading=n),e.onload=function(e){v(),h("loaded"),null==r||r(e)},e.onerror=function(e){v(),h("failed"),null==s||s(e)},g.current=e}}),[a,l,t,o,r,s,n]),v=function(){g.current&&(g.current.onload=null,g.current.onerror=null,g.current=null)};return(0,p.Gw)((function(){if(!u)return"loading"===f&&x(),function(){v()}}),[f,x,u]),u?"loaded":f}((0,l.Z)((0,l.Z)({},e),{},{ignoreFallback:_})),y=function(e,n){return"loaded"!==e&&"beforeLoadOrError"===n||"failed"===e&&"onError"===n}(E,k),w=(0,l.Z)({ref:n,objectFit:g,objectPosition:m},_?S:(0,d.CE)(S,["onError","onLoad"]));return y?t||c.createElement(u.m$.img,(0,l.Z)({as:h,className:"chakra-image__placeholder",src:a},w)):c.createElement(u.m$.img,(0,l.Z)({as:h,src:r,srcSet:s,crossOrigin:Z,loading:x,referrerPolicy:j,className:"chakra-image"},w))}));(0,u.Gp)((function(e,n){return c.createElement(u.m$.img,(0,l.Z)({ref:n,as:h,className:"chakra-image"},e))}));d.Ts&&(g.displayName="Image");var x=a(4942),v=a(3803),Z=a(6198),b=a.n(Z),k=a(9642),j=a(265),S=["children","className"],_=["label","placement","spacing","children","className","__css"],E=["isDisabled","isLoading","isActive","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"],y=["size","colorScheme","variant","className","spacing","isAttached","isDisabled"],w=["icon","children","isRound","aria-label"],N=(0,k.kr)({strict:!1,name:"ButtonGroupContext"}),I=(0,i.Z)(N,2),z=I[0],q=I[1];function K(e){var n=e.children,a=e.className,t=(0,o.Z)(e,S),r=(0,c.isValidElement)(n)?(0,c.cloneElement)(n,{"aria-hidden":!0,focusable:!1}):n,i=(0,d.cx)("chakra-button__icon",a);return c.createElement(u.m$.span,(0,l.Z)((0,l.Z)({display:"inline-flex",alignSelf:"center",flexShrink:0},t),{},{className:i}),r)}function R(e){var n=e.label,a=e.placement,t=e.spacing,r=void 0===t?"0.5rem":t,i=e.children,s=void 0===i?c.createElement(j.$,{color:"currentColor",width:"1em",height:"1em"}):i,p=e.className,m=e.__css,f=(0,o.Z)(e,_),h=(0,d.cx)("chakra-button__spinner",p),g="start"===a?"marginEnd":"marginStart",v=(0,c.useMemo)((function(){var e;return(0,l.Z)((e={display:"flex",alignItems:"center",position:n?"relative":"absolute"},(0,x.Z)(e,g,n?r:0),(0,x.Z)(e,"fontSize","1em"),(0,x.Z)(e,"lineHeight","normal"),e),m)}),[m,n,g,r]);return c.createElement(u.m$.div,(0,l.Z)((0,l.Z)({className:h},f),{},{__css:v}),s)}d.Ts&&(K.displayName="ButtonIcon"),d.Ts&&(R.displayName="ButtonSpinner");var T=(0,u.Gp)((function(e,n){var a=q(),t=(0,u.mq)("Button",(0,l.Z)((0,l.Z)({},a),e)),r=(0,v.Lr)(e),s=r.isDisabled,m=void 0===s?null==a?void 0:a.isDisabled:s,f=r.isLoading,h=r.isActive,g=r.children,x=r.leftIcon,Z=r.rightIcon,k=r.loadingText,j=r.iconSpacing,S=void 0===j?"0.5rem":j,_=r.type,y=r.spinner,w=r.spinnerPlacement,N=void 0===w?"start":w,I=r.className,z=r.as,K=(0,o.Z)(r,E),T=(0,c.useMemo)((function(){var e,n=b()({},null!==(e=null==t?void 0:t._focus)&&void 0!==e?e:{},{zIndex:1});return(0,l.Z)((0,l.Z)({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none"},t),!!a&&{_focus:n})}),[t,a]),W=function(e){var n=(0,c.useState)(!e),a=(0,i.Z)(n,2),t=a[0],r=a[1];return{ref:(0,c.useCallback)((function(e){e&&r("BUTTON"===e.tagName)}),[]),type:t?"button":void 0}}(z),F=W.ref,P=W.type,X={rightIcon:Z,leftIcon:x,iconSpacing:S,children:g};return c.createElement(u.m$.button,(0,l.Z)({disabled:m||f,ref:(0,p.qq)(n,F),as:z,type:null!==_&&void 0!==_?_:P,"data-active":(0,d.PB)(h),"data-loading":(0,d.PB)(f),__css:T,className:(0,d.cx)("chakra-button",I)},K),f&&"start"===N&&c.createElement(R,{className:"chakra-button__spinner--start",label:k,placement:"start",spacing:S},y),f?k||c.createElement(u.m$.span,{opacity:0},c.createElement(C,(0,l.Z)({},X))):c.createElement(C,(0,l.Z)({},X)),f&&"end"===N&&c.createElement(R,{className:"chakra-button__spinner--end",label:k,placement:"end",spacing:S},y))}));function C(e){var n=e.leftIcon,a=e.rightIcon,t=e.children,r=e.iconSpacing;return c.createElement(c.Fragment,null,n&&c.createElement(K,{marginEnd:r},n),t,a&&c.createElement(K,{marginStart:r},a))}d.Ts&&(T.displayName="Button");var W=(0,u.Gp)((function(e,n){var a=e.size,t=e.colorScheme,r=e.variant,i=e.className,s=e.spacing,p=void 0===s?"0.5rem":s,m=e.isAttached,f=e.isDisabled,h=(0,o.Z)(e,y),g=(0,d.cx)("chakra-button__group",i),x=(0,c.useMemo)((function(){return{size:a,colorScheme:t,variant:r,isDisabled:f}}),[a,t,r,f]),v={display:"inline-flex"};return v=m?(0,l.Z)((0,l.Z)({},v),{},{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}):(0,l.Z)((0,l.Z)({},v),{},{"& > *:not(style) ~ *:not(style)":{marginStart:p}}),c.createElement(z,{value:x},c.createElement(u.m$.div,(0,l.Z)({ref:n,role:"group",__css:v,className:g,"data-attached":m?"":void 0},h)))}));d.Ts&&(W.displayName="ButtonGroup");var F=(0,u.Gp)((function(e,n){var a=e.icon,t=e.children,r=e.isRound,i=e["aria-label"],s=(0,o.Z)(e,w),u=a||t,d=(0,c.isValidElement)(u)?(0,c.cloneElement)(u,{"aria-hidden":!0,focusable:!1}):null;return c.createElement(T,(0,l.Z)({padding:"0",borderRadius:r?"full":void 0,ref:n,"aria-label":i},s),d)}));d.Ts&&(F.displayName="IconButton");var P=a(6871),X=a(3504),B=a(4569),D=a.n(B),O=a(9478),G=a(1605),L=a(730),$=a(4370),A=a(184);var U=function(){var e=(0,P.UO)().filmId,n=c.useState(!1),a=(0,i.Z)(n,2),l=a[0],o=a[1],u=c.useState(!0),d=(0,i.Z)(u,2),p=d[0],m=d[1],f=c.useState(null),h=(0,i.Z)(f,2),x=h[0],v=h[1],Z=c.useState([]),b=(0,i.Z)(Z,2),k=b[0],j=b[1],S=c.useState([]),_=(0,i.Z)(S,2),E=_[0],y=_[1];return c.useEffect((function(){var n=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var a,r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return j([]),y([]),m(!0),n.prev=3,n.next=6,D().get("".concat(O.Z.api_url,"/films/").concat(e),{headers:{"X-API-KEY":O.Z.api_token}});case 6:a=n.sent,r=a.data,v(r),o(!1),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),o(!0);case 15:return n.prev=15,m(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[3,12,15,18]])})));return function(){return n.apply(this,arguments)}}();if(n(),!l){var a=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var a,r,i,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D().get("".concat(O.Z.api_url,"/films/").concat(e,"/similars"),{headers:{"X-API-KEY":O.Z.api_token}});case 3:a=n.sent,r=a.data,j(r.items),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:return n.prev=10,n.next=13,D().get("".concat(O.Z.sequels_and_prequels_url,"/films/").concat(e,"/sequels_and_prequels"),{headers:{"X-API-KEY":O.Z.api_token}});case 13:i=n.sent,c=i.data,y(c),n.next=20;break;case 18:n.prev=18,n.t1=n.catch(10);case 20:case"end":return n.stop()}}),n,null,[[0,8],[10,18]])})));return function(){return n.apply(this,arguments)}}();a()}}),[e]),(0,A.jsx)(A.Fragment,{children:p&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)($.D,{title:"KinoSearch"}),(0,A.jsx)(G.Z,{})]})||(0,A.jsx)(A.Fragment,{children:l&&(0,A.jsxs)(s.M5,{h:"80vh",children:[(0,A.jsx)($.D,{title:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u2013 KinoSearch"}),(0,A.jsx)(s.X6,{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]})||(0,A.jsxs)(s.Kq,{direction:"column",spacing:10,children:[(0,A.jsx)($.D,{title:"".concat(x.nameRu||x.nameEn," \u2013 KinoSearch")}),(0,A.jsxs)(s.Kq,{spacing:"50px",direction:["column","row"],paddingRight:[0,10],children:[(0,A.jsx)(g,{src:x.posterUrl,w:["auto","350px"],borderRadius:"20px"}),(0,A.jsxs)(s.Kq,{direction:"column",spacing:"20px",children:[(0,A.jsxs)(s.Kq,{direction:"row",spacing:"15px",children:[(0,A.jsx)(s.X6,{size:"xl",fontWeight:"800",children:x.nameRu||x.nameEn}),x.ratingKinopoisk||x.ratingImdb||x.ratingFilmCritics?(0,A.jsx)(s.M5,{children:(0,A.jsxs)(s.xv,{fontSize:"sm",fontWeight:"400",children:[x.ratingKinopoisk||x.ratingImdb||x.ratingFilmCritics," ","\u0438\u0437 10"]})}):null]}),(0,A.jsx)(s.xv,{fontWeight:"500",fontSize:"lg",children:x.shortDescription||x.slogan||x.description}),(0,A.jsx)(T,{colorScheme:"brand",variant:"outline",size:"lg",borderRadius:"30px",as:X.rU,to:"/watch/".concat(e),children:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c"}),(0,A.jsx)(s.X6,{size:"xl",fontWeight:"800",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0438\u043b\u044c\u043c\u0435"}),(0,A.jsxs)(s.xv,{fontWeight:"500",fontSize:"lg",children:["\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430: ",x.year||"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",(0,A.jsx)("br",{}),"\u0421\u0442\u0440\u0430\u043d\u0430: ",x.countries[0].country||"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",(0,A.jsx)("br",{}),"\u0416\u0430\u043d\u0440: ",x.genres[0].genre||"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"]})]})]}),0!=E.length&&(0,A.jsxs)(s.xu,{children:[(0,A.jsxs)(s.X6,{size:"md",fontWeight:"700",children:["\u0421\u0438\u043a\u0432\u0435\u043b\u044b \u0438 \u043f\u0440\u0438\u043a\u0432\u0435\u043b\u044b"," ",(0,A.jsx)(s.Ct,{ml:"1",fontSize:"md",children:E.length})]}),(0,A.jsx)(s.xu,{paddingTop:5,children:(0,A.jsx)(s.Kq,{direction:"row",overflow:"auto",overflowX:"auto",spacing:"20px",children:E.map((function(e){return(0,A.jsx)(L.Z,{film:e})}))})})]}),0!=k.length&&(0,A.jsxs)(s.xu,{children:[(0,A.jsxs)(s.X6,{size:"md",fontWeight:"700",children:["\u0415\u0441\u043b\u0438 \u0432\u0430\u043c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u044d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u043c"," ",(0,A.jsx)(s.Ct,{ml:"1",fontSize:"md",children:k.length})]}),(0,A.jsx)(s.xu,{paddingTop:5,children:(0,A.jsx)(s.Kq,{direction:"row",overflow:"auto",overflowX:"auto",spacing:"20px",children:k.map((function(e){return(0,A.jsx)(L.Z,{film:e})}))})})]})]})})})}}}]);
//# sourceMappingURL=874.bc508542.chunk.js.map