"use strict";(self.webpackChunkkinosearch_v2=self.webpackChunkkinosearch_v2||[]).push([[630],{2630:function(e,r,s){s.r(r);var a=s(1413),o=s(4165),t=s(7762),i=s(5861),n=s(9439),l=s(7313),c=s(4390),d=s(3964),m=s(720),p=s(3068),u=s(9748),h=s(5627),f=s(7890),x=s(9466),j=s(1881),w=s.n(j),b=s(2335),g=s(6417);r.default=function(){var e=(0,c.pm)(),r=l.useState(!1),s=(0,n.Z)(r,2),j=s[0],v=s[1],y=(0,h.cI)(),_=y.register,I=y.handleSubmit,C=y.formState.errors,k=y.setError,Z=(0,f.s0)(),q=I(function(){var r=(0,i.Z)((0,o.Z)().mark((function r(s){var a,i,n,l,c,d,m,p,u,h;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(v(!0),r.prev=1,a=!1,/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(s.email)||(k("email",{type:"custom",message:"Email \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"}),a=!0),s.password!==s.password_confirmation&&(k("password_confirmation",{type:"custom",message:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"}),a=!0),!a){r.next=7;break}return r.abrupt("return");case 7:return r.next=9,w().post("".concat(b.Z.ks_api,"/auth/register"),s);case 9:if(i=r.sent,(n=i.data).errors){l=(0,t.Z)(n.errors);try{for(l.s();!(c=l.n()).done;)"Email \u0437\u0430\u043d\u044f\u0442"===(d=c.value).message&&k("email",{type:"custom",message:d.message})}catch(h){l.e(h)}finally{l.f()}}else e({title:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d!",status:"success",duration:3e3,isClosable:!0,variant:"left-accent",position:"bottom-left"}),Z("/login");r.next=17;break;case 14:if(r.prev=14,r.t0=r.catch(1),r.t0.response.data){m=r.t0.response.data;try{p=(0,t.Z)(m.errors);try{for(p.s();!(u=p.n()).done;)"Email \u0437\u0430\u043d\u044f\u0442"===(h=u.value).message&&k("email",{type:"custom",message:h.message})}catch(h){p.e(h)}finally{p.f()}}catch(o){e({title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",description:"".concat(r.t0),status:"error",duration:3e3,isClosable:!0,variant:"left-accent",position:"bottom-left"})}}else e({title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",description:"".concat(r.t0),status:"error",duration:3e3,isClosable:!0,variant:"left-accent",position:"bottom-left"});case 17:return r.prev=17,v(!1),r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[1,14,17,20]])})));return function(e){return r.apply(this,arguments)}}());return(0,g.jsx)(d.xu,{w:"100%",children:(0,g.jsx)(d.M5,{children:(0,g.jsx)(d.W2,{maxW:["full","sm"],children:(0,g.jsx)("form",{onSubmit:q,children:(0,g.jsxs)(d.Kq,{direction:"column",spacing:5,children:[(0,g.jsx)(d.M5,{children:(0,g.jsx)(d.X6,{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),(0,g.jsxs)(m.NI,{isInvalid:!!C.email,children:[(0,g.jsx)(p.II,(0,a.Z)({placeholder:"Email",borderColor:"#929292",focusBorderColor:"brand.500",_placeholder:{color:"white"}},_("email",{required:!0}))),C.email&&(0,g.jsx)(m.J1,{children:"required"===C.email.type&&(0,g.jsx)(g.Fragment,{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 Email"})||(0,g.jsx)(g.Fragment,{children:C.email.message})})]}),(0,g.jsxs)(m.NI,{isInvalid:!!C.password,children:[(0,g.jsx)(p.II,(0,a.Z)({placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",borderColor:"#929292",focusBorderColor:"brand.500",type:"password",_placeholder:{color:"white"}},_("password",{required:!0}))),C.password&&(0,g.jsx)(m.J1,{children:"required"===C.password.type&&(0,g.jsx)(g.Fragment,{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})||(0,g.jsx)(g.Fragment,{children:C.password.message})})]}),(0,g.jsxs)(m.NI,{isInvalid:!!C.password_confirmation,children:[(0,g.jsx)(p.II,(0,a.Z)({placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",borderColor:"#929292",focusBorderColor:"brand.500",type:"password",_placeholder:{color:"white"}},_("password_confirmation",{required:!0}))),C.password_confirmation&&(0,g.jsx)(m.J1,{children:"required"===C.password_confirmation.type&&(0,g.jsx)(g.Fragment,{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u0435\u0449\u0435 \u0440\u0430\u0437"})||(0,g.jsx)(g.Fragment,{children:C.password_confirmation.message})})]}),(0,g.jsx)(u.zx,{w:"100%",isLoading:j,type:"submit",colorScheme:"brand",size:"md",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),(0,g.jsx)(d.M5,{w:"100%",children:(0,g.jsxs)(d.xv,{children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"," ",(0,g.jsx)(d.rU,{color:"brand.500",_hover:{color:"brand.600",textDecoration:"none"},as:x.rU,to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})})})})})}}}]);