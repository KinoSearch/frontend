"use strict";(self.webpackChunkkinosearch_v2=self.webpackChunkkinosearch_v2||[]).push([[118],{6496:function(e,t,n){n.d(t,{RL:function(){return o},UZ:function(){return l}});var r=n(4165),a=n(5861),c=n(1881),s=n.n(c),i=n(7519),u=(n(7313),n(2335)),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().post("".concat(u.Z.ks_api,"/history/watch/").concat(t),null,{headers:{Authorization:"Bearer ".concat((0,i.YT)())}});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().post("".concat(u.Z.ks_api,"/history/list/clear"),null,{headers:{Authorization:"Bearer ".concat((0,i.YT)())}});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},8118:function(e,t,n){n.r(t);var r=n(4165),a=n(5861),c=n(9439),s=n(7313),i=n(7890),u=n(2335),o=n(1881),l=n.n(o),h=n(222),p=n(3964),f=n(1875),d=n(6496),x=n(6417);t.default=function(){var e=(0,i.UO)().filmId,t=s.useState(!1),n=(0,c.Z)(t,2),o=n[0],v=n[1],Z=s.useState(""),k=(0,c.Z)(Z,2),j=k[0],m=k[1],w=s.useState(!0),y=(0,c.Z)(w,2),b=y[0],S=y[1],_=s.useState(null),g=(0,c.Z)(_,2),z=g[0],B=g[1];return s.useEffect((function(){var t=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var n,a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!1),S(!0),B(null),t.prev=3,t.next=6,l().get("".concat(u.Z.api_url,"/films/").concat(e),{headers:{"X-API-KEY":u.Z.api_token}});case 6:if(200!==(n=t.sent).status){t.next=23;break}return m(n.data.nameRu||n.data.nameEn||n.data.nameOriginal),v(!1),t.prev=10,t.next=13,l().post("".concat(u.Z.ks_api,"/player/").concat(e));case 13:a=t.sent,c=a.data,B(c.player),c.player&&(0,d.RL)(e),t.next=21;break;case 19:t.prev=19,t.t0=t.catch(10);case 21:t.next=24;break;case 23:v(!0);case 24:t.next=29;break;case 26:t.prev=26,t.t1=t.catch(3),v(!0);case 29:return t.prev=29,S(!1),t.finish(29);case 32:case"end":return t.stop()}}),t,null,[[3,26,29,32],[10,19]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),(0,x.jsx)("div",{children:b&&(0,x.jsxs)("div",{children:[(0,x.jsx)(h.D,{title:"KinoSearch"}),(0,x.jsx)(f.Z,{})]})||(0,x.jsx)("div",{children:o&&(0,x.jsxs)(p.M5,{h:"80vh",children:[(0,x.jsx)(h.D,{title:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u2013 KinoSearch"}),(0,x.jsx)(p.X6,{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]})||(0,x.jsxs)("div",{children:[(0,x.jsx)(h.D,{title:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0444\u0438\u043b\u044c\u043c\u0430 \u2013 KinoSearch"}),(0,x.jsx)(p.M5,{paddingBottom:10,children:(0,x.jsx)(p.X6,{size:"xl",fontWeight:"800",children:j})}),z&&(0,x.jsx)(p.W2,{h:["auto","50vh"],children:(0,x.jsx)("iframe",{title:"player",src:z,frameBorder:0,allowFullScreen:!0,style:{width:"100%",height:"100%"}})})||(0,x.jsx)(p.M5,{children:(0,x.jsx)(p.X6,{size:"md",fontWeight:"600",children:"\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442, \u043f\u043b\u0435\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."})})]})})})}}}]);